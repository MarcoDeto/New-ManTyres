<script src="https://accounts.google.com/gsi/client" async defer></script>
<div class="container custom-bg">
  <div class="wrap-login">
    <div class="container-logo">
      <div class="wrap-logo">
        <h1 class="logo" [routerLink]="['/home']" matTooltip="Vai alla Home" matTooltipShowDelay="1000">MAN</h1>
        <a [routerLink]="['/home']" matTooltip="Vai alla Home" matTooltipShowDelay="1000">
          <img src="../assets/Images/logo_new.svg" height="30" class="align-top logo" alt="">
        </a>
        <h1 class="logo" [routerLink]="['/home']" matTooltip="Vai alla Home" matTooltipShowDelay="1000">TYRES</h1>
      </div>
    </div>
    <div class="card">
      <h2>{{ "LOGIN" | translate }}</h2>
      <div class="card-body">

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

          <div class="input-container">
            <label>{{ "EMAILADDRESS_PLACEHOLDER" | translate }}</label>
            <input class="form-control" maxlength="256" formControlName="email" required>
            <div *ngIf="getLoginControl.email.dirty && getLoginControl.email.errors?.required" style="padding: 10px">
              <mat-error>{{ "EMAILADDRESS_PLACEHOLDER" | translate }} {{"ISREQUIRED" | translate}}</mat-error>
            </div>
          </div>
          <div class="input-container">
            <label>{{ "PASSWORD_PLACEHOLDER" | translate }}</label>
            <input class="form-control" maxlength="256" formControlName="password" required>
            <div *ngIf="getLoginControl.password.dirty && getLoginControl.password.errors?.required"
              style="padding: 10px">
              <mat-error>{{ "PASSWORD_PLACEHOLDER" | translate}} {{"ISREQUIRED" | translate}}</mat-error>
            </div>
          </div>

          <button type="submit" class="btn login-btn">
            <mat-progress-spinner *ngIf="caricamento" [diameter]="30" mode="indeterminate"></mat-progress-spinner>
            <span *ngIf="!caricamento">{{ "LOGIN" | translate }}</span>
          </button>

          <button type="button" (click)="openGooglePopup()" class="btn google-signup-btn">
            <mat-progress-spinner *ngIf="caricamento" [diameter]="20" mode="indeterminate" style="margin: auto;">
            </mat-progress-spinner>
            <img src="https://img.icons8.com/color/32/000000/google-logo.png" />
            &nbsp;
            <span *ngIf="!caricamento">{{ "GOOGLE_LOGIN" | translate }}</span>
          </button>
          <!-- <re-captcha (resolved)="resolved($event)" siteKey="6Lc4fMQeAAAAANcjwZJE3DvxoifE_JUqMyQpGrGu"></re-captcha> -->
        </form>
      </div>
      <div class="link-wrapper">
        <a [routerLink]="['/account/register']">{{"CREATE_ACCOUNT" | translate}}</a>
        <span>-</span>
        <a [routerLink]="['/account/password/reset/request']">{{"FORGOT_PASSWORD" | translate}}</a>
      </div>
    </div>
  </div>
</div>